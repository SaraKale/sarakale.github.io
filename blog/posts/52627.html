<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>用Electron将web项目封装成exe程序 | SaraKale's blog</title><meta name="author" content="SaraKale"><meta name="copyright" content="SaraKale"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="总有些时候需要把网页打包……"><meta property="og:type" content="article"><meta property="og:title" content="用Electron将web项目封装成exe程序"><meta property="og:url" content="https://sarakale.top/blog/posts/52627.html"><meta property="og:site_name" content="SaraKale&#39;s blog"><meta property="og:description" content="总有些时候需要把网页打包……"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://npm.elemecdn.com/sarakale-assets@v1/cover/8.jpg"><meta property="article:published_time" content="2022-05-08T08:11:29.000Z"><meta property="article:modified_time" content="2022-05-08T11:11:29.000Z"><meta property="article:author" content="SaraKale"><meta property="article:tag" content="网站"><meta property="article:tag" content="web"><meta property="article:tag" content="Electron"><meta property="article:tag" content="exe"><meta property="article:tag" content="封装"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://npm.elemecdn.com/sarakale-assets@v1/cover/8.jpg"><link rel="shortcut icon" href="https://npm.elemecdn.com/sarakale-assets@v1/favicon.ico"><link rel="canonical" href="https://sarakale.top/blog/posts/52627"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui@4.0.31/dist/fancybox.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/blog/",algolia:void 0,localSearch:{path:"/blog/search.xml",preload:!1,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://unpkg.com/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js",css:"https://unpkg.com/flickr-justified-gallery@2.1.2/dist/fjGallery.css"}},isPhotoFigcaption:!0,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"用Electron将web项目封装成exe程序",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-05-08 19:11:29"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,n={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(n))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=(new Date).getHours();void 0===t?o<=6||o>=20?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode();const a=saveToLocal.get("aside-status");void 0!==a&&("hide"===a?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://npm.elemecdn.com/kang-static@1.1.2/Hexo/css/iconfont.min.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/blog/atom.xml" title="SaraKale's blog" type="application/atom+xml"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/sarakale.jpg" onerror='onerror=null,src="https://npm.elemecdn.com/sarakale-assets@v1/loading.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">96</div></a><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">241</div></a><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa-solid fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/works/index.html"><i class="fa-fw fa-solid fa-list"></i> <span>作品</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-star"></i> <span>时光轴</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/archives/index.html"><i class="fa-fw fa-solid fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/blog/tags/index.html"><i class="fa-fw fa-solid fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/blog/categories/index.html"><i class="fa-fw fa-solid fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-heart"></i> <span>爱好</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/music/index.html"><i class="fa-fw fa-solid fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/blog/bangumis/index.html"><i class="fa-fw fa-solid fa-film"></i> <span>番剧</span></a></li><li><a class="site-page child" href="/blog/steamgames/index.html"><i class="fa-fw fa-brands fa-steam"></i> <span>游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/shuoshuo/index.html"><i class="fa-fw fa-solid fa-grin-wink"></i> <span>碎碎念</span></a></div><div class="menus_item"><a class="site-page" href="/blog/message/index.html"><i class="fa-fw fa-solid fa-comment"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/blog/links/index.html"><i class="fa-fw fa-solid fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/aboutme/index.html"><i class="fa-fw fa-solid fa-user"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://npm.elemecdn.com/sarakale-assets@v1/cover/8.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/blog/">SaraKale's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa-solid fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/works/index.html"><i class="fa-fw fa-solid fa-list"></i> <span>作品</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-star"></i> <span>时光轴</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/archives/index.html"><i class="fa-fw fa-solid fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/blog/tags/index.html"><i class="fa-fw fa-solid fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/blog/categories/index.html"><i class="fa-fw fa-solid fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-heart"></i> <span>爱好</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/music/index.html"><i class="fa-fw fa-solid fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/blog/bangumis/index.html"><i class="fa-fw fa-solid fa-film"></i> <span>番剧</span></a></li><li><a class="site-page child" href="/blog/steamgames/index.html"><i class="fa-fw fa-brands fa-steam"></i> <span>游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/shuoshuo/index.html"><i class="fa-fw fa-solid fa-grin-wink"></i> <span>碎碎念</span></a></div><div class="menus_item"><a class="site-page" href="/blog/message/index.html"><i class="fa-fw fa-solid fa-comment"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/blog/links/index.html"><i class="fa-fw fa-solid fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/aboutme/index.html"><i class="fa-fw fa-solid fa-user"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">用Electron将web项目封装成exe程序</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-08T08:11:29.000Z" title="发表于 2022-05-08 16:11:29">2022-05-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-08T11:11:29.000Z" title="更新于 2022-05-08 19:11:29">2022-05-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/blog/categories/%E5%89%8D%E7%AB%AF%E4%B8%8E%E7%BD%91%E7%AB%99/">前端与网站</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>7分钟</span></span><span class="post-meta-separator">|</span><span data-flag-title="用Electron将web项目封装成exe程序"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span class="waline-pageview-count" data-path="/blog/posts/52627.html"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/blog/posts/52627.html#post-comment"><span class="waline-comment-count" data-path="/blog/posts/52627.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>查资料的时候看到了关于web项目打包的关键词，于是乎我又忍不住职业病去搜索了一些东西……目前看来，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.electronjs.org/">Electron</a>、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://nwjs.io/">nw.js</a>（原node-webkit）、<a target="_blank" rel="noopener external nofollow noreferrer" href="http://hex.youdao.com/zh-cn/downloads/index.html">Hex</a>这几个能给网页打包成exe桌面应用程序，<strong>nwjs</strong>和<strong>Electron</strong>基本差不多，Electron是推荐最多的，<strong>Hex</strong>看起来很古老了，居然是有道发起的，挺厉害。思考了下，还是选择了<strong>Electron</strong>，这个我也是从来没体验过，正好趁此机会来试试！走起！<br>以前也搜过如何把html&#x2F;css&#x2F;js打包成单个exe，当时技术有限也没能做到，主要是为了把自己做的资料库打包然后分享给小伙伴……因为直接能点击打开，多方便！搜了一圈大多数用C++什么的，苦于自己不会编程就放弃了……现在既然看到了，就来试试吧！</p><h1 id="Electron是什么？"><a href="#Electron是什么？" class="headerlink" title="Electron是什么？"></a>Electron是什么？</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.electronjs.org/">Electron</a>是一个使用JavaScript、HTML和CSS构建桌面应用程序的框架。嵌入Chromium和Node.js到环境中，可以创建Windows、macOS和Linux的exe应用程序。</p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://nodejs.org/en/download/">Node.js</a> 最新版</li><li>完整的web项目</li><li>做好的ICO图标文件</li></ul><p>Nodejs设置啥的早弄过就不写了，直接走下一步～</p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="安装Electron"><a href="#安装Electron" class="headerlink" title="安装Electron"></a>安装Electron</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install electron --save-dev</span><br></pre></td></tr></table></figure><h2 id="安装打包工具"><a href="#安装打包工具" class="headerlink" title="安装打包工具"></a>安装打包工具</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install electron-packager -g</span><br></pre></td></tr></table></figure><h2 id="下载官方范例"><a href="#下载官方范例" class="headerlink" title="下载官方范例"></a>下载官方范例</h2><p>可以下载官方的案例来练习：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 克隆示例项目的仓库</span><br><span class="line">git clone https://github.com/electron/electron-quick-start</span><br><span class="line">// 进入项目</span><br><span class="line">cd electron-quick-start</span><br><span class="line">// 安装依赖</span><br><span class="line">npm install</span><br><span class="line">// 运行</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure><p>修改下 <code>main.js</code> 和 <code>package.json</code> 里面的设置<br>在项目 <code>index.html</code> 的 <code>&lt;body&gt;&lt;/body&gt;</code> 之间添加</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script src=&quot;./renderer.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>输入npm start看看效果，确保能运行</p><h2 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a>命令行</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">electron-packager &lt;sourcedir&gt; &lt;appname&gt; --platform=&lt;platform&gt; --arch=&lt;arch&gt; [optional flags...]</span><br></pre></td></tr></table></figure><p><strong>参数：</strong></p><table><thead><tr><th align="left">命令</th><th>说明</th></tr></thead><tbody><tr><td align="left">sourcedir</td><td>应用程序源的基本目录</td></tr><tr><td align="left">appname</td><td>应用程序的名称</td></tr><tr><td align="left">version</td><td>打印Electron Packager和Node的版本，以及目标平台和arch，用于错误报告，并立即退出</td></tr></tbody></table><p><strong>所有平台</strong></p><table><thead><tr><th align="left">命令</th><th>说明</th></tr></thead><tbody><tr><td align="left">all</td><td>等效于–platform&#x3D;all –arch&#x3D;all</td></tr><tr><td align="left">app-copyright</td><td>应用程序版权发行</td></tr><tr><td align="left">app-version</td><td>应用设置的应用版本发布版本</td></tr><tr><td align="left">arch</td><td>架构选择，可选值: ia32, x64, armv7l, arm64, mips64el, universal(通用，可用逗号分隔)<br>Windows（用于x86、x86_64和arm64体系结构）win32<br>macOS&#x2F;Mac App Store（用于x86_64，arm64和通用架构）darwinmas<br>Linux（适用于x86、x86_64、armv7l、arm64和mips64el架构）</td></tr><tr><td align="left">asar</td><td>将应用程序中的源代码打包到程序中。pass——asar使用默认配置，配置属性–asar.unpackDir&#x3D;sub_dir<br>支持的属性包括:<br>- ordering: 用于文件打包的排序文件的路径<br>- unpack: 将文件解包到应用程序<br>- unpackDir: 将目录解包到应用程序<br></td></tr><tr><td align="left">build-version</td><td>应用程序生成版本</td></tr><tr><td align="left">download</td><td>传递给@electron&#x2F;get的子选项列表。它们通过点符号指定, 例：–download.cacheRoot&#x3D;&#x2F;tmp&#x2F;cache<br>支持属性:<br>- cacheRoot: 缓存的Electron下载目录<br>- mirrorOptions: 下载备选URL选项<br>- rejectUnauthorized: 下载时是否要求SSL证书有效，默认为true, 使用–no-download 拒绝检查</td></tr><tr><td align="left">electron-version</td><td>正在打包的电子版本</td></tr><tr><td align="left">electron-zip-dir</td><td>包含Electron ZIP文件的目录的本地路径</td></tr><tr><td align="left">executable-name</td><td>可执行文件的名称，无文件扩展名。默认为appname</td></tr><tr><td align="left">extra-resource</td><td>要复制到应用程序资源目录的文件</td></tr><tr><td align="left">icon</td><td>应用程序图标文件的本地路径</td></tr><tr><td align="left">ignore</td><td>不要打包某个文件夹。如：–ignore&#x3D;node_modules 可设置–no-prune</td></tr><tr><td align="left">no-deref-symlinks</td><td>确保应用程序源中没有取消对符号链接的引用</td></tr><tr><td align="left">no-junk</td><td>不要忽略打包应用程序中的系统垃圾文件</td></tr><tr><td align="left">no-prune</td><td>不要删除打包应用程序中的devDependencies</td></tr><tr><td align="left">out</td><td>应用程序输出目录，默认为当前目录</td></tr><tr><td align="left">overwrite</td><td>如果平台的输出目录已经存在，则替换它，而不是跳过它</td></tr><tr><td align="left">platform</td><td>要构建哪个平台的应用（Windows&#x2F;Mac&#x2F;Linux）可选值: darwin, linux, mas, win32 (如果有多个，则以逗号分隔)</td></tr><tr><td align="left">prebuilt-asar</td><td>预构建asar文件的路径（asar, ignore, no-prune, 或no-deref-symlinks）</td></tr><tr><td align="left">quiet</td><td>不要打印信息或警告消息</td></tr><tr><td align="left">tmpdir</td><td>临时目录。默认为系统临时目录，使用–no tmpdir禁用使用临时目录。</td></tr></tbody></table><p><strong>仅限win&#x2F;mas平台</strong></p><table><thead><tr><th align="left">命令</th><th>说明</th></tr></thead><tbody><tr><td align="left">app-bundle-id</td><td>要在应用程序plist中使用的绑定标识符</td></tr><tr><td align="left">app-category-type</td><td>应用程序类别类型<br>例如 <code>app-category-type=public.app-category.developer-tools</code> 将应用程序类别设置为“开发者工具”。<br></td></tr><tr><td align="left">darwin-dark-mode-support</td><td>在打包的应用程序中强制支持Mojave&#x2F;10.14暗模式</td></tr><tr><td align="left">extend-info</td><td>a plist file to merge into the app plist</td></tr><tr><td align="left">helper-bundle-id</td><td>要合并到应用程序plist的plist文件</td></tr><tr><td align="left">osx-sign</td><td>（仅限macOS平台）是否签署macOS应用程序包。<br>可使用–osx-sign自行签名以使用默认配置, 或使用其他配置<br>例：–osx-sign.identity&#x3D;”My Name”<br>支持的属性包括:<br>- identity: 应包含运行“codesign”时要使用的标识&#96;<br>- entitlements: 签名时使用的授权路径<br>- entitlements-inherit: “子女”权利的路径<br></td></tr><tr><td align="left">osx-notarize</td><td>（仅限macOS平台，需要–osx签名）是否对macOS应用进行公证包装。<br>例：–osx-notarize.appleId&#x3D;”<a href="mailto:&#x66;&#x6f;&#x6f;&#64;&#101;&#x78;&#x61;&#x6d;&#x70;&#x6c;&#x65;&#x2e;&#99;&#x6f;&#109;" rel="external nofollow noreferrer">&#x66;&#x6f;&#x6f;&#64;&#101;&#x78;&#x61;&#x6d;&#x70;&#x6c;&#x65;&#x2e;&#99;&#x6f;&#109;</a>“<br>支持属性包括:<br>- appleId: 包含你的apple ID用户名&#x2F;电子邮件<br>- appleIdPassword: 包含提供的apple ID的密码<br>- appleApiKey: 包含应用商店连接API密钥<br>- appleApiIssuer: 包含API密钥的颁发者<br></td></tr><tr><td align="left">protocol</td><td>URL协议方案，将应用程序注册如下：<br>例：<code>--protocol=myapp</code> 将注册要打开的应用程序<br>URLs：<code>myapp://path</code> 此参数需要 <code>--protocol-name</code><br></td></tr><tr><td align="left">protocol-name</td><td>通过–protocol指定的URL协议方案的描述性名称&#96;</td></tr><tr><td align="left">usage-description</td><td>关于应用程序如何使用某些macOS功能的可读描述。<br>支持列表：<br>- Camera<br>- Microphone<br></td></tr></tbody></table><p><strong>仅限win32目标平台</strong></p><table><thead><tr><th align="left">命令</th><th>说明</th></tr></thead><tbody><tr><td align="left">win32metadata</td><td>用于设置嵌入到中的应用程序元数据<br>例：–win32metadata.CompanyName&#x3D;”Company Inc.”<br>或 –win32metadata.ProductName&#x3D;”Product”<br>支持属性:<br>- CompanyName (默认值: package.json中的名字)<br>- FileDescription (默认值: appname)<br>- OriginalFilename (默认值: renamed exe)<br>- ProductName (默认值: appname)<br>- InternalName (默认值: appname)<br>- requested-execution-level (user, asInvoker, or requireAdministrator)<br>- application-manifest</td></tr></tbody></table><p>范例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">electron-packager mysite --platform=win32 --arch=x64 --out outsite --icon=icon.ico --app-version=0.0.1 --overwrite --ignore=node_modules </span><br></pre></td></tr></table></figure><p>这里遇到个坑：<br>出现错误提示：connect ECONNREFUSED 127.0.0.1:443<br>百度了下，要设置个环境变量：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">变量名：ELECTRON_MIRROR：</span><br><span class="line">变量值：https://cdn.npm.taobao.org/dist/electron/</span><br></pre></td></tr></table></figure><p>或者重置registry缓存，有可能也是端口被占用，关闭正在占用的程序，或者重启电脑。</p><h1 id="最终打包"><a href="#最终打包" class="headerlink" title="最终打包"></a>最终打包</h1><p>ico图标最大尺寸是256x256，可以用<a target="_blank" rel="noopener external nofollow noreferrer" href="http://greenfishsoftware.org/gfie.php#apage">Greenfish Icon Editor</a>来绘制图标，也可以百度搜索在线转换ico的网站，直接用制作好的图片转换即可。</p><p>刚才通过electron-packager输出打包后，会在目录看到已经生成.exe文件，但是还有很多文件，我们需要再次打包整合成单个exe，这时候可以用到<a target="_blank" rel="noopener external nofollow noreferrer" href="https://jrsoftware.org/isdl.php">Inno Setup</a>或<a target="_blank" rel="noopener external nofollow noreferrer" href="https://enigmaprotector.com/cn/downloads.html">Enigma Virtual Box</a>来进行最终打包。</p><p>我使用的是Enigma Virtual Box，直接封包完毕。原项目大小103MB，最后封装大小440MB……呃……感觉体积也太大了吧！没办法，electron打包出来就这么大……<img class="inline-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/emoji/acfun_color/acfun_05.gif" style="height:80px"><br>这图啥呢…就是为了方便大家下载后双击就能点开看！！以前我看一个资料本直接点开就能看，好酷的！占用还很小，大概估计是用C++写的吧…还不如直接打包网页版让用户点html看好了，反正每个人都有浏览器哈哈哈！<img class="inline-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/emoji/alu/alus_11.png" style="height:50px">纯是为了折磨自己而已啊！占这么大的空间没必要啊！愤怒删了！！哼！</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>electron最后封包会遇到错误提示，感觉npm源也不稳定啊，下次可以考虑用nw.js试试。然后我搜到有一个新项目<a target="_blank" rel="noopener external nofollow noreferrer" href="https://tauri.studio/">tauri</a>说是可以创建体积更小的桌面程序，替代electron的产物，这看来很有前景啊，如果发展不错未来或许真的可以替代electron，那就太好了！不过语言是Rust，还是有点门槛的，以后再说吧～<br>然后又恰巧搜到了一个项目：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/c830b471dc82">Nativefier——快速将网站打包成桌面程序</a> 这个看起来不错的样子，不过感觉是将在线网站封包了下，断网了就不能访问了，这个算是另一种快捷方式……<br>网站打包exe之路任重道远啊，等以后大佬写个工具革新！现阶段还是洗洗睡吧～<img class="inline-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/emoji/alu/alus_15.png" style="height:50px"></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://sarakale.top/blog">SaraKale</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://sarakale.top/blog/posts/52627.html">https://sarakale.top/blog/posts/52627.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://sarakale.top/blog" target="_blank">SaraKale's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/%E7%BD%91%E7%AB%99/">网站</a><a class="post-meta__tags" href="/blog/tags/web/">web</a><a class="post-meta__tags" href="/blog/tags/Electron/">Electron</a><a class="post-meta__tags" href="/blog/tags/exe/">exe</a><a class="post-meta__tags" href="/blog/tags/%E5%B0%81%E8%A3%85/">封装</a></div><div class="post_share"><div class="social-share" data-image="https://npm.elemecdn.com/sarakale-assets@v1/cover/8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://unpkg.com/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blog/posts/4325.html"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/cover/9.jpg" onerror='onerror=null,src="https://npm.elemecdn.com/sarakale-assets@v1/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">本站的备份镜像站点</div></div></a></div><div class="next-post pull-right"><a href="/blog/posts/4425.html"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/cover/7.jpg" onerror='onerror=null,src="https://npm.elemecdn.com/sarakale-assets@v1/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">gulp v4.0更新修改</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/blog/posts/4425.html" title="gulp v4.0更新修改"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/cover/7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-12</div><div class="title">gulp v4.0更新修改</div></div></a></div><div><a href="/blog/posts/535faed9.html" title="新博客迁移到Hexo，又重新安家了"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/cover/10.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-09-06</div><div class="title">新博客迁移到Hexo，又重新安家了</div></div></a></div><div><a href="/blog/posts/4325.html" title="本站的备份镜像站点"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/sarakale-assets@v1/cover/9.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-07</div><div class="title">本站的备份镜像站点</div></div></a></div></div></div><hr><p>如果遇到评论加载不出来，请不要担心，稍等一会儿，请尝试多刷新几次，等待服务器后台修复即可，或者过一段时间来看看～</p><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Electron%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">Electron是什么？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">3.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Electron"><span class="toc-number">3.1.</span> <span class="toc-text">安装Electron</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7"><span class="toc-number">3.2.</span> <span class="toc-text">安装打包工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%AE%98%E6%96%B9%E8%8C%83%E4%BE%8B"><span class="toc-number">3.3.</span> <span class="toc-text">下载官方范例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="toc-number">3.4.</span> <span class="toc-text">命令行</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E6%89%93%E5%8C%85"><span class="toc-number">4.</span> <span class="toc-text">最终打包</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8E%E8%AE%B0"><span class="toc-number">5.</span> <span class="toc-text">后记</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2023 By SaraKale</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">我们的征途是星辰大海！</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="/blog/js/tw_cn.js"></script><script src="https://unpkg.com/@fancyapps/ui@4.0.31/dist/fancybox.umd.js"></script><script src="https://unpkg.com/vanilla-lazyload@17.8.3/dist/lazyload.iife.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js").then((()=>{pangu.autoSpacingPage()}))}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/blog/js/search/local-search.js"></script><div class="js-pjax"><script>function loadWaline(){function e(){Waline.init(Object.assign({el:"#waline-wrap",serverURL:"https://bxc6tr.deta.dev",pageview:!0,dark:'html[data-theme="dark"]',path:window.location.pathname,comment:!0},{emoji:["https:///npm.elemecdn.com/sarakale-assets@v1/emoji/alu/","https:///npm.elemecdn.com/sarakale-assets@v1/emoji/acfun_color/","https:///npm.elemecdn.com/sarakale-assets@v1/emoji/bilibili/","https:///npm.elemecdn.com/sarakale-assets@v1/emoji/tieba/"],locale:{placeholder:"欢迎留下您宝贵的留言~别忘了留下邮箱，会给您回复～如果遇到评论没有显示，请尝试多刷新几次，或者耐心等待服务器后台修复。"},requiredMeta:["nick","mail"],search:!1}))}"function"==typeof Waline?e():(!function(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://unpkg.com/@waline/client@v2/dist/waline.css",document.head.appendChild(e)}(),getScript("https://unpkg.com/@waline/client@v2/dist/waline.js").then(e))}{function loadOtherComment(){loadWaline()}setTimeout(loadWaline,0)}</script></div><script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script><script src="source/js/*"></script><script>Fancybox.bind("#waline-wrap .wl-cards img")</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>